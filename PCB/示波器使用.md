
## 傅里叶变换及谐波

输出的是方波，显示出的却是正弦波或其他波形，这是为什么？

在正式揭开谜团之前，我们需要先明白方波是什么。先介绍一位老朋友——**傅里叶**。傅里叶是19世纪法国著名的数学家、物理学家，是他提出了对后世影响极大的傅里叶变换，在多个领域都有广泛的应用。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250218235939.png)

微积分，卷积，傅里叶级数，傅里叶矩阵，离散的连续的，周期的非周期的……傅里叶变换是让无数学子头疼的一个知识点，不过我们今天只需了解其物理意义。

通俗来讲，傅里叶变换是：

**任何一个数学函数，都可以写成是多个正弦函数的和。**

从物理学角度来讲，傅里叶变换是：

**任何一个复杂的电磁波信号都可以由多个最基本的正弦波信号叠加组成。**

综上，可以说方波也是由无数个正弦波组成的。

  

如下图显示，信号是一个方波，横轴代表时间，竖轴代表幅度，而向频率方向映射过去就得到了时域图像：

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219000004.png)

傅里叶变换提到过，方波其实就是由基波再加上无数的正弦波共同构成的，那么上图中部这么多的正弦波其实就是基波、三次谐波、五次谐波以及最后的n次谐波。图上竖轴代表幅度，纵轴代表频率，向时间方向映射过去就得到了频域图像。

为了更好地理解，我们可以做个实验：

使用SDG6000X任意波形发生器输出一个5MHz的正弦波，使用SDS2000X Plus数字示波器的FFT功能后，它的频谱图只有一个峰值点处于5MHz处。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219000540.png)

此时，我们直接将输出的正弦波换成方波，从它的FFT频谱图可以看到有很多个峰值点，峰值分别处于5MHz, 15MHz, 25MHz……其实这就是我们刚才所说的基波、三次谐波、五次谐波等。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219000610.png)


## **方波为什么不方？**
认识到“方波是由无数个正弦波组成”这个本质之后，我们继续来探讨“为什么方波不方”这个问题。

在刚才的实验中曾经多次提到一个词——谐波。三次谐波的频率为基波的3倍，五次谐波为5倍，那么N次谐波则为N倍。既然方波是由无数的正弦波组成，那么谐波越多，方波的棱角就越方，显示出来的波形就越接近于理想的方波。

### 示波器的带宽

怎么保证正弦波的数量足够多呢？这就涉及到一个参数——示波器的带宽。  

当方波被一定带宽的示波器测量时，高于示波器带宽的谐波就被示波器过滤掉了，基本上只留下低于带宽的一些谐波；当谐波少于一定数量时，方波的棱角就变得圆滑，甚至直接变成了正弦波。

使用一台带宽为500MHz的SDS2000X Plus数字示波器以及SDG6000X任意波形发生器，首先发出一个频率为60MHz的方波，可以看到此时的波形虽然棱角不够分明，但也能看出是个方波。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219000652.png)
经过刚才的试验，我们已经确定了影响方波还原的一个重要指标就是示波器的带宽，**有时为了能够完美还原方波，甚至需要示波器带宽在方波频率的10倍以上**。

### 探头的带宽

需要注意的是，在测量时我们有时需要用到探头，当探头与示波器相连时就组成了一个系统。根据短板原理，一只木桶盛水的多少，并不取决于桶壁上最高的那块木块，而恰恰取决于桶壁上最短的那块，所以即使示波器能够满足方波的需求，而探头达不到要求也无法还原出一个完美的方波。

这就引出了影响还原方波的第二个要素——探头的带宽。

### 探头的校准

既然提到了探头的带宽影响，就不得不提到“万恶之源”：探头的校准。  

在实际使用过程中，示波器探头的准确度会因为长时间使用、物理损耗等原因下降，对测试结果产生误差。为了保证测试结果的准确性，需要对示波器探头进行校准。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219000729.png)

首先，将示波器的输入选择打到直流耦合上，并将示波器探头接地夹与示波器地端相连，探头挂钩与示波器校准信号补偿端相连（一般示波器都会带有补偿端），通常是1KHz的方波信号。然后调节水平时基旋钮，使波形能够清晰地显示在屏幕上，观察方波的上下两边是否水平。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219000903.png)

如果出现过冲的现象，则需要调节探头上的匹配电容，此时就需要用小螺丝刀进行调节，直至波形上下两边处于水平状态。

### 信号问题
那么说完了示波器和探头的影响，还有一种可能是信号本身出了问题。

作为一个理想的，优秀的方波，应该只有“高”和“低”这两个值，这两个值之间应当是瞬时变化的，但是实际上由于物理局限性，这种情况并不可能实现。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219001025.png)

信号从最低值上升到最高值然后再下降所花费的时间分别称为脉冲上升时间和脉冲衰减时间。当上升或衰减时间过长，方波本身就变得不那么理想，我们又怎么能够在示波器上看到理想的方波呢？

使用SDS2000X Plus数字示波器以及SDG6000X任意波形发生器进行测试，SDS2000X Plus数字示波器本身的上升时间为0.8ns。需要注意的是，我们所设置的方波的上升时间必须大于示波器的上升时间，否则就没有意义了。

首先我们设置一个方波，将它的频率设置为1MHz，脉宽为600ns，上升时间为10ns，然后输出信号，现在示波器所显示的是较为理想的方波

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219001100.png)

### 视觉效果

再换个角度来思考，如果一个方波它的上升时间足够短，但是脉宽很小，虽然本质上讲是一个比较理想的方波，从视觉上来看仍然是这样吗？

我们来看看实际效果。将刚才所设置的600ns脉宽减小至60ns，此时信号源输出的信号是一个上升时间为10ns，脉宽为60ns的方波。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250219001425.png)

