![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250324171357.png)

电平转换在电路设计中非常常见，因为做电路设计很多时候就像在搭积木，一个电路模块，加上另一个电路模块，拼拼凑凑连起来就是一个电子产品了。而各电路模块间经常会出现电压域不一致的情况，所以模块间的通讯就要使用电平转换电路了。

上图是用MOS管实现的I2C总线电平转换电路，实现3.3V电压域与5V电压域间的双向通讯。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250324171435.png)

实物的上拉电阻用了4.7K欧姆，可以提供更大的电流驱动能力。在满足电路性能的前提下，我喜欢用阻值更大的电阻，因为功耗更低更省电。

一、原理分析简化来看，留下I2C的一根线来分析就可以了，如下图。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250324171523.png)

分四种情况：

1、当SDA1输出高电平时：MOS管Q1的Vgs = 0，MOS管关闭，SDA2被电阻R3上拉到5V。

2、当SDA1输出低电平时：MOS管Q1的Vgs = 3.3V，大于导通电压，MOS管导通，SDA2通过MOS管被拉到低电平。

3、当SDA2输出高电平时：MOS管Q1的Vgs不变，MOS维持关闭状态，SDA1被电阻R2上拉到3.3V。

4、当SDA2输出低电平时：MOS管不导通，但是它有体二极管！MOS管里的体二极管把SDA1拉低到低电平，此时Vgs约等于3.3V，MOS管导通，进一步拉低了SDA1的电压。

注：

低电平指等于或接近0V。
高电平指等于或接近电源电压。

所以3.3V电压域的器件，其高电平为等于或接近3.3V；5V电压域的器件，其高电平为等于或接近5V。具体要求看芯片的数据手册是怎么说明这个限定范围的，常见的比如说0.3倍的“芯片供电电压”以下为低电平，0.7倍的“芯片供电电压”以上为高电平。也就是说“芯片供电电压”为5V的时候，5 x 0.3 = 1.5V 以下为低电平，5 x 0.7 = 3.5V 以上为高电平。

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250324171630.png)

二、注意事项

以上是3.3V与5V之间的情况，如果换用其他电压域之间的转换，如3.3V、2.5V、1.8V等电压值的两两之间，需要注意MOS管的Vgs开启导通电压。

给MOS管过高的Vgs会导致MOS管烧坏！给过低的Vgs会导致MOS管打不开！不同型号的MOS管这个参数值还不一样！！

![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250324171720.png)

Vgs的开启电压最大为2.1V，即Vgs至少要给到2.1V。实际使用时为保证完全开启、完全导通，设计上要多预留余量，尤其注意用实验验证，确保万无一失。



