
# **AGC的基本概念和历史背景**

 AGC最初是为了应对信号衰落（接收信号幅度的缓慢变化）而设计的，目的是在输入信号幅度变化时保持输出信号的相对恒定。AGC电路现在广泛应用于任何可能因输出信号幅度变化而导致信息丢失或系统性能下降的设备或系统中。
![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250115210821.png)
**AGC系统的分类：** AGC系统可以分为线性和非线性控制系统，这取决于输入和输出之间是否能用单一的线性比例关系来表示。AGC系统还可以根据是否使用反馈动作网络分为开环和闭环控制系统。闭环AGC系统能够自我调整以适应系统的变化，减少非线性的影响。
![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250115210854.png)

**AGC系统的要求**    

**准确性**：通过使用反馈元件可以提高AGC系统的准确性。

**灵敏度**：AGC系统应对周围条件变化不敏感，但对输入信号敏感。

**噪声抑制**：良好的AGC系统应能减少噪声影响。

**稳定性**：对于有界输入信号，输出也应是有界的，输入为零时输出也应为零。

**带宽**：AGC系统的带宽应尽可能大，但在接收机中可能存在多个AGC控制环路，每个环路有不同的带宽和频率响应。

**速度**：AGC系统达到稳定输出所需的时间，高速AGC系统具有较小的瞬态期。

**AGC电路的工作原理**

 AGC电路通过在输入和第一个有源级之间使用可变衰减器来控制增益，但这种方法会降低信号电平和信噪比。典型的AGC环路包括一个前向控制增益级、反馈增益和一个信号比较级，用于生成差分误差信号。AGC环路的增益控制通常分布在多个级，以减少对早期级（RF和第一IF）的增益调整，除非信号电平足够高以保证大的信噪比。
![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250115210916.png)
![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250115210928.png)

**AGC的理想和实际传递函数**

**理想传递函数**：在低输入信号时，AGC不工作，输出是输入的线性函数。当输出达到阈值V1时，AGC开始工作并保持恒定输出直到达到第二个阈值V2。

**实际传递函数**：没有AGC的系统在达到点B时会过载并变得非线性。应用AGC的系统在点D之前有一个大于1的斜率，表示AGC在AGC检测器前有增益。从D到E的输出电平不会随着输入信号的增加而增加，这一部分的平坦度取决于整体AGC环路增益，称为“AGC斜率”。
![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250115210945.png)
C检测器类型
![](https://raw.githubusercontent.com/LeroyK111/pictureBed/master/20250115210959.png)

**包络检测器（整流器）**：输出电压与RF输入电压的幅度成正比。

**平方律检测器**：输出与RF输入电压的平方成正比，因此与输入功率成正比。

**真有效值（RMS）检测器**：由平方律检测器、低通滤波器和平方根函数组成，输出与信号电压成正比。

**对数检测器**：输出与RF输入电压的对数成正比，与线性dB VGA的行为互补。

**不同检测器的响应比较**

 检测器类型对AGC环路的大步长瞬态响应有显著影响。对数检测器对大突变的响应最快，而平方律检测器对大信号的响应最快。    

**变量增益放大器（VGA）：** VGA通常用于反馈配置中作为AGC放大器，以保持输出信号幅度在所有输入信号电平下恒定。VGA的设计考虑包括动态范围、输入输出端口的差分性质、增益与噪声和失真的关系等。

**AGC接收系统使用可变衰减器：** 在使用DC偏置控制放大器时，需要注意AGC变化时不要产生严重失真。使用电压可变衰减器代替AGC偏置控制可以减少这个问题。接收系统包括在RF、第一IF和第二IF部分的电压控制衰减器。

**AGC响应时间：** AGC系统对输入变化的响应存在延迟。AGC控制电压在信号电平变化后保持恒定一段时间，然后跟随变化以补偿电平变化。AGC的攻击和衰减时间定义为信号出现或消失后达到最终值一定百分比所需的时间。

**AGC阈值和挂起AGC：** AGC阈值决定了AGC开始减少增益的信号电平。挂起AGC是一种状态变量类型的AGC环路，用于在信号停止后快速恢复接收机增益，同时由于音频引起的增益控制线上的包络失真非常低。

**滤波器延迟的影响：** 选择性滤波器不仅引入频率选择性，还引入延迟。如果AGC攻击时间小于延迟，可能会导致AGC不稳定。因此，AGC攻击时间应长于可能的延迟，或者避免系统中的延迟以使用短攻击时间。

**自动增益开关和双环AGC：** 为了进一步提高输入放大器的动态范围，需要某种形式的自动增益控制。双环AGC在噪声系数（NF）非常重要的应用中很有用，可以在不降低系统NF的情况下控制高增益前置放大器。

**AGC在数字通信中的应用：** AGC电路广泛应用于数字通信系统、移动电话和基站、磁盘驱动器读通道等。在移动电话接收器中，通常使用两级增益设置，模拟增益通过放大器电路的反馈环路应用，而数字增益则是对数字化值的乘法。AGC可以显著减少ADC所需的动态范围。



