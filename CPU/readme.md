# CPU架构之争：X86、ARM、RISC-V

中央处理单元（CPU）的核心组件包括算术逻辑单元（ALU）、控制单元（CU）和寄存器。ALU 负责执行所有算术和逻辑运算；CU 管理和协调 CPU 内部以及外部的指令和数据流；而寄存器则提供一个快速存取的位置，用于暂时存储计算和指令执行过程中的数据，从而实现高效的数据处理速度。

![](../readme.assets/Pasted%20image%2020240910103028.png)

CPU 架构涵盖了 CPU 的设计和功能结构，它涉及内部组件的配置、数据处理方法、支持的指令集，以及如何执行这些指令。架构的设计直接关系到 CPU 的性能指标、能源效率和系统兼容性。架构的选择对于实现特定的计算目标、成本效益和软件生态系统支持至关重要。随着技术的发展和计算需求的多样化，CPU 架构持续演进以适应市场的变化和需求。

![](../readme.assets/Pasted%20image%2020240910103039.png)

## 复杂与精简，谁才是最佳选择？

从 CPU 发明至今，有非常多种架构，从我们熟悉的 X86、ARM，到不太熟悉的 MIPS、IA64，它们之间的差距都非常大。但是如果从最基本的逻辑角度来分类的话，它们可以被分为两大类，即所谓的 “复杂指令集” 与 “精简指令集” 系统，也就是经常看到的 “CISC” 与 “RISC”。

精简指令集计算（RISC）和复杂指令集计算（CISC）是两种主要的中央处理单元（CPU）架构理念。RISC 架构强调使用一组更小、更简单的指令来实现硬件的简化和提高指令的执行速度。这种方法通常能够提升性能并降低功耗，使其成为移动设备和嵌入式系统的理想选择。RISC 的主要特点 包括快速的指令执行、简化的硬件设计以及高能效比。ARM 架构是最著名的 RISC 架构之一。

相对于 RISC，CISC 架构着重于通过一套较为复杂的指令集直接支持高级计算操作，从而减少高级语言（包括 C 和 C++）与机器语言之间的转换需求。这一策略旨在简化软件和编译器的开发过程，尽管这可能会导致更复杂的硬件设计和较高的功耗。CISC 的特色在于其功能强大的指令集和编写程序上的便捷性，但这同时伴随着硬件的复杂性及增加的能耗。而 CISC 的典型代表是 X86 架构的处理器。

![](../readme.assets/Pasted%20image%2020240910103053.png)

## 三大 CPU 架构的对比

X86 是 PC 市场的霸主，也是 CPU 架构的元老

X86 架构最初由多个制造商生产，但随着 “Wintel”（Windows 和 Intel 的结合）的崛起，市场逐渐被英特尔主导，仅剩下 AMD 和威盛等少数制造商。其以复杂指令集计算（CISC）著称，正如上一段所提及的 CISC 的优缺点分析，特色在于简化工程师的开发过程，且其指令集的功能较强大，在单核心性能方面往往优于 ARM 处理器，但会导致更复杂的硬件设计和较高的功耗。目前主要在桌面型和服务器市场表现突出，被广泛应用于台式电脑、笔记本电脑、服务器以及高性能计算机中。

由于 X86 会先用解码器将复杂指令变成类似于 RISC 的指令，再给核心执行，其仍存在整体执行工作效率较差、处理资料速度较慢的缺点。然而英特尔在 2023 年推出的精进版的纯 64 位 X86 架构，也就是 X86s，废除昔日 16 位和 32 位模式，从一开机初始化就进入 “纯 64 位模式”，不再从 16 位或 32 位切换至 64 位，并且对于执行现有的 32 位应用程序会以 64 位下的兼容模式去执行，因此在效率上已有所改进。


![](../readme.assets/Pasted%20image%2020240910103129.png)

## ARM 在移动设备上具有卓越的优势，并将进攻 PC 市场

ARM 架构由 ARM Holdings设计并授权给其他公司生产，苹果、高通、联发科等公司都设计了基于 ARM 架构的手机芯片，展现了 ARM 架构在省电和低功耗方面的优势。由于 ARM 架构属于精简指令集计算（RISC）系统，最大特点是高能效比和低功耗，这使得它非常适合于电池供电的移动设备，如手机和平板电脑。

与 CISC 架构如 X86 相比，ARM 的 RISC 架构由于不需要复杂的芯片设计，可以在相同条件下提供更快的执行速度，大约是 CISC 的 2 到 4 倍。此外，RISC 架构使得芯片可以更小、功耗更低、成本更低，同时提高效能。这一特点在当前进入先进制程的半导体产业中尤为重要，使 ARM 架构成为开发新一代 PC 处理器的有力候选。



## 开源架构 RISC-V 提供了定制指令的扩充空间，且获取成本较低

与前面两者不同，RISC-V 架构是由加州大学伯克利分校的研究人员发起，基于精简指令集计算（RISC）理念，同时突出了其开源、模块化和高度可扩展的特点。这种架构允许设计者根据特定应用的需求添加自定义指令，从而进行优化，并提供了与 ARM 架构相似的高能效比和低功耗特性。RISC-V 的指令集设计更为精简，这不仅降低了硬件的面积和功耗，而且提高了运算速度和效率。其一致的指令格式简化了电路设计，减少了数据处理时间，并提升了运算能力。

RISC-V 的开源性质使其在从微控制器到高性能计算等广泛领域得到应用，包括嵌入式系统、物联网（IoT）装置、汽车电子、服务器和专用加速器等。作为一个开源指令集，RISC-V 易于获取资源，不受特定公司知识产权的限制，因此降低了成本。它的弹性显著高于 X86 和 ARM 架构，因为它提供了定制指令的扩充空间，使得根据不同需求的特定设计成为可能，而这一点在 X86 和 ARM 处理器中较难实现。
![](../readme.assets/Pasted%20image%2020240910103223.png)

## 受益于人工智能发展与手机市场复苏，ARM 架构渗透率有望进一步提升

ARM 公司整体营收可以划分为两个区块，分别是权利金（License）和版税（Royalty）。前者为客户在设计初期向 ARM 缴纳的 IP 架构使用费，一般授权约 3 年，占 2024 财年第三季度总体营收的 43%；后者则为客户产品正式销售后的分润费用，从 License 合约开始到贡献 Royalty 约需 4 年，占 2024 财年第三季度总体营收的 57%。相较于 License，Royalty 持续时间较长，也因此被视为 ARM 长期营收的主要推动因素。

License 的成长动能主要来自 ATA（ARM Total Access，全部 IP 订阅用户）、AFA（ARM Flexible Access，初期架构授权用户）客户的持续增长。2024 财年第三季度 ATA 客户增加 5 家至 27 家，AFA 客户则增加 6 家至 218 家，可见需求仍十分强劲。而版税（Royalty）营收的成长主要由手机需求复苏和数据中心相关营收带动。前面提到过，ARM 的主要应用是在移动设备上，2024 财年第三季度 15% 的版税营收由 ARMv9 架构贡献，目前主要搭载于主流高阶手机及 PC 应用，v9 架构授权金较 v8 提升一倍，考虑现阶段仍处于渗透初期，未来成长动能可期。

## Nvidia 和 AMD 有望采用 ARM 架构，其市场版图将进一步扩大？

据消息指出，Nvidia 有望在 2025 年推出以 ARM 架构为设计基础的 CPU 产品，以搭载执行微软 Windows 系统的 PC，背后原因是微软帮助芯片商为 Windows PC 构建 ARM 架构处理器。自从为 Mac 电脑推出采用 ARM 架构的自研芯片 M 系列以来，苹果效能显著成长，带动 PC 市场占有率在过去三年攀升，这使得除 Nvidia 以外，原采用 X86 架构的 AMD 也计划使用 ARM 技术生产 CPU。若成功开发，在 Nvidia 与 AMD 的助力下，ARM 架构在市场上的应用比例将进一步提高，尤其是在 X86 统治的 PC 领域，ARM 的市场版图有望进一步扩大。


## ARM 架构强势进攻，Intel 还撑得住吗？

ARM 架构在市场上的应用逐年增多，尤其近年在 AI PC 的强势推动下，开始进攻 PC 领域的版图，侵占 X86 赖以生存的传统领域，这会使得 X86 架构在市场上的地位逐渐流失，最后淡出吗？CMoney 研究团队认为，ARM 架构要危害到 X86 架构的市场地位，仍有很长一段路要走，其原因有二：第一，更改架构须解决兼容问题。X86 架构在 PC 市场已称霸多年，因此对于设计者而言，继续采用 X86 架构所能获得的资源也最多。若要进行更改，则设计难度将大幅提高，且因为采用非 X86 架构，设计者必须克服许多软件功能无法兼容的问题。

其二，X86 有其不易被替代的优势。低功耗本来就不是英特尔擅长的市场，且 X86 架构在电竞市场已建立稳定基础与地位，ARM 短期内恐难超越。此外，ARM 架构处理器主打简单、省电两大特色，这虽对于笔记本电脑市场是一大优势，但对于以台式电脑为主，且诉求强大图形运算功能的电竞市场来说，现阶段 X86 架构处理器仍将是主要选择。

![](../readme.assets/Pasted%20image%2020240910103332.png)
## RISC-V 架构在双雄夹击下，具备竞争力吗？

在分析 RISC-V 的竞争优势时，我们先来探讨它对比 X86 架构以及 ARM 架构的优缺点。其优点正如先前所提及的，RISC-V 因指令精简而更省电节能，而其开源的特性，也使得在科技竞争的背景下，各国开始将重心逐渐转移到诉求开源、开放的 RISC-V 架构上，因而成为 RISC-V 架构的重要市场。

然而，缺点的部分亦十分显著。由于 RISC-V 发展时间较晚，PC 跟行动装置市场基本已被其他两大架构独占，因此在软件兼容性方面较差。另外，由于运行在 CPU 的软件都是第三方用户进行开发，因此开发 CPU 软件的用户必须要与设计 CPU 硬件的用户进行合作，否则软件将无法运行在硬件上。如果有其他竞争者想切入 ARM 的市场开发自己的 CPU 指令集，竞争者必须先说服 CPU 用户学习使用 ARM 架构以外的进行软件的开发，也因此其一直难以扩大市场。

尽管 RISC-V 架构目前在市场上的应用仍不足以构成强大生态系，但在 AI 推动下成长动能仍旧可观。

目前 RISC-V 的应用领域有别于 ARM 架构与 X86 架构，更多运用在物联网与车用产业，然在其他市场亦逐渐推出相关产品，浮现在大众视野。举例来说，高通与 Google 展开合作开发 “RISC-V Snapdragon Wear” 芯片，是有史以来第一个宣布大众市场的 RISC-V Android 芯片。此外，Meta 的 AI 推理芯片 MTIA，处理核心便是采用晶心科的 RISC-V 架构来打造，可用于提升推荐系统（如广告、贴文、影片的排序）的运行效率。而 Google 则在自有 AI 处理器 TPU 旁加装美国 RISC-V 新创 SiFive 开发的处理器，以加速机器学习的运作。然而尽管在市场上已初露锋芒，对比 X86 与 ARM 的版图，RISC-V 的应用仍未能建立强大生态系。

不过在2023 年 AI蓬勃发展的势头下，RISC-V 架构再次成为大众关注的目标。可调整性高是 RISC-V 架构成为 AI 大规模的一大原因，AI 芯片运算需要定制指令才能提高运算效率，虽然 ARM 架构有授权给 IC 设计用户使用，但是所有指令和功能基本上都已经由 ARM 定义好，对使用者来说可更改的空间很小。相比之下，IC 设计用户可以在 RISC-V 架构下，根据自身需求进行定制化设计，同时业界也有像是晶心科、SiFive 等拥有自主 RISC-V IP 的公司，可配合客户做弹性调整，使得研发 AI 芯片的企业大幅提高导入 RISC-V 架构的意愿。

根据领先的贸易分析师和业务开发公司 SHD Group 发布 2024 年 RISC-V 市场研究报告，其中提及到 2030 年 RISC-V SoC（单芯片系统）出货量预计将激增至 162 亿颗，复合年增长率（CAGR）为 44%，而收入将达到 920 亿美元，复合年增长率（CAGR）为 47%。而 RISC-V IP 收入亦有望同步增长，预计到 2030 年复合年增长率为 39%。展望 AI 处于发展初期，RISC-V 的自由度或可成为胜过另两大巨头的一大利器。


## 长期看好 RISC-V 架构的应用版图，而在 AI PC 之争中 ARM 恐难胜出

综观目前 CPU 架构市场局势，要说三足鼎立的局面还不至于，目前大市场仍以 X86 与 ARM 为主，然而基于 RISC-V 对一般使用者来说，可塑性更强，因此对于一些尚不成熟、正在兴起的产业来说，像是 AI PC 与车用等等，反而是更方便应用与开发的。CMoney 研究团队认为，在中国市场积极开发与 AI 的双重加持下，RISC-V 长期具备良好的成长动能，且若能够在中国建立起稳健生态系，那么其未来发展性十分可观。

而 ARM 与 X86 的边缘 AI 架构战争，则主要是聚焦在 AI PC 的议题上。手机市场近两年未有突出表现，尤其 ARM 的大客户苹果目前正面临中国市场的销售危机，也因此 ARM 积极抢占 PC 领域的策略亦是十分合理。要进入该领域就必须挑战该领域的大佬，英特尔的 X86 架构在 PC 领域仍存在先行者优势，软件兼容性仍是 ARM 在 Windows 应用上难以跨过的坎，且 AI PC 涉及更强大的芯片运算能力，ARM 架构是否能与 X86 架构的效能匹敌亦是一大难题。基于以上，CMoney 研究团队认为，ARM 要在 AI PC 领域挑战 X86 恐难占上风。